<mat-drawer-container style="min-height: 800px">
  <mat-drawer [opened]="true" mode="side" style="padding: 10px">
    <form (ngSubmit)="onSubmit()" [formGroup]="formGroup">
      <mat-form-field appearance="outline" style="width: 90%">
        <mat-label>Disease</mat-label>
        <mat-select formControlName="disease">
          @for (disease of diseases | async; track disease) {
            <mat-option [value]="disease">{{ capitalize(disease.disease_name) }}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <mat-accordion>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Genes</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field appearance="outline">
            <mat-label>Sort by</mat-label>
            <mat-select formControlName="geneSorting">
              @for (sorting of getKeys(geneSortings); track sorting) {
                <mat-option [value]="sorting">{{ sorting }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Max. genes</mat-label>
            <input formControlName="maxGenes" matInput max="100" min="0" step="1" type="number"/>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Min. degree</mat-label>
            <input formControlName="minDegree" matInput max="100" min="0" step="1" type="number"/>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Min. betweenness</mat-label>
            <input formControlName="minBetweenness" matInput max="1" min="0" step="0.05" type="number"/>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Min. eigenvector</mat-label>
            <input formControlName="minEigen" matInput max="1" min="0" step="0.05" type="number"/>
          </mat-form-field>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title>Interactions</mat-panel-title>
          </mat-expansion-panel-header>
          <mat-form-field appearance="outline">
            <mat-label>Sort by</mat-label>
            <mat-select formControlName="interactionSorting">
              @for (sorting of getKeys(interactionSortings); track sorting) {
                <mat-option [value]="sorting">{{ sorting }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Max. interactions</mat-label>
            <input formControlName="maxInteractions" matInput max="1000" min="0" step="1" type="number"/>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Max. adj. p-value</mat-label>
            <input formControlName="maxPValue" matInput max="1" min="0" step="0.05" type="number"/>
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Min. MScore</mat-label>
            <input formControlName="minMScore" matInput max="1" min="0" step="0.05" type="number"/>
          </mat-form-field>
        </mat-expansion-panel>
      </mat-accordion>
      <button mat-flat-button style="margin: 5px" type="submit">Search</button>
    </form>
  </mat-drawer>
  <mat-drawer-content>
    <mat-tab-group>
      <mat-tab label="Network">
        Network
      </mat-tab>
      <mat-tab label="Genes in the Network">
        Genes in the Network
      </mat-tab>
      <mat-tab label="Interactions in the Network">
        Interactions in the Network
      </mat-tab>
    </mat-tab-group>
  </mat-drawer-content>
</mat-drawer-container>
