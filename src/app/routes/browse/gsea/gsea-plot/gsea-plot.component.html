<h2 mat-dialog-title>GSEA Enrichment Plot: {{ data.term }}</h2>
<div mat-dialog-content>
    <div class="image-container">
        <!-- Show loading spinner when loading -->
        @if (imageResource.isLoading()) {
        <div class="loading-container">
            <mat-spinner diameter="50"></mat-spinner>
            <p class="loading-text">Loading plot...</p>
        </div>
        }

        <!-- Show image when loaded -->
        @if (imageResource.value(); as image) {
        <img [src]="image" alt="GSEA Enrichment Plot" />
        }

        <!-- Show error message if loading failed -->
        @if (imageResource.error(); as error) {
        <div class="error-message">
            <p>Error loading the image</p>
        </div>
        }
    </div>
</div>
<div mat-dialog-actions align="end">
    <button mat-button (click)="close()">Close</button>
</div>
